<!DOCTYPE html>


<html>
<head>
	<meta charset = "utf-8">
	<title> Adding a new tool </title>
	<link rel="stylesheet" type="text/css" href="stylesheet.css">

</head>
<body>
	<div class="content">
		<nav>
			<a href="../index.html" class = "page"> Home </a> |
			<a href="../usersupport.html" class = "page"> User Support </a> |
			<a href="../developersupport.html" class = "page"> Developer Support</a>
		</nav>
	</div>

	<div class = "content">
		<h1>Adding a new tool</h1>
		<h2>Instruction: </h2>
		<ol>
<li><p>To add a new tool, for example, pencil to FlashPhoto, first of all, you have to change the TOOLS enumâ€™s size in ToolFactory.h.</p>

<h4 id="tool_factoryh">src/lib/libimgtools/src/tool_factory.h</h4>

<pre><code class="C++ language-C++">enum TOOLS {
	TOOL_PEN = 0,
	TOOL_ERASER = 1,
	TOOL_SPRAYCAN = 2,
	TOOL_CALLIGRAPHYPEN = 3,
	TOOL_HIGHLIGHTER = 4,
	TOOL_STAMP = 5,
	TOOL_BLUR = 6,
	TOOL_CHALK = 7,
	TOOL_PENCIL = 8,
	NUMTOOLS = 8
};
</code></pre></li>

<li><p>Declare a new instance for TPencil in ToolFactory.</p>

<h4 id="tool_factorycc">src/lib/libimgtools/src/tool_factory.cc</h4>

<pre><code class="C++ language-C++">...
Tool* ToolFactory::CreateTool(int toolID) {
		...
		case TOOL_BLUR:
			tool = new TBlur();
			break;
		case TOOL_PENCIL:
			tool = new TPencil();
			break;
		default:
			tool = NULL;
			break;
	}

	return tool;
}
</code></pre></li>

<li><p>Finally, implement pencil.h and pencil.cc as follow. The Pencil class is very similar to the Pen class.</p>

<h4 id="t_pencilh">src/lib/libimgtools/src/include/t_pencil.h</h4>

<pre><code class="C++ language-C++">#ifndef SRC_LIB_LIBIMGTOOLS_SRC_INCLUDE_T_PENCIL_H_
#define SRC_LIB_LIBIMGTOOLS_SRC_INCLUDE_T_PENCIL_H_

#include <string>
#include "include/tool.h"
#include "include/m_constant.h"

namespace image_tools {

class TPencil : public Tool {
 public:
  TPencil(void);

	ColorData color_blend_math(
			float mask_pixel_amount,
			ColorData tool_color,
			ColorData current_color,
			ColorData background_color);

  std::string name(void) { return "Pencil"; }
};

}  /* namespace image_tools */

#endif  /* SRC_LIB_LIBIMGTOOLS_SRC_INCLUDE_T_PENCIL_H_ */
</code></pre>

<h4 id="t_pencilcc">src/lib/libimgtools/src/t_pencil.cc</h4>

<pre><code class="C++ language-C++">#include "include/t_pencil.h"

namespace image_tools {

TPencil::TPencil(void) {
  // Implement pencil mask
};

ColorData THighlighter::color_blend_math(
    float mask_pixel_amount,
    ColorData tool_color,
    ColorData current_color,
    ColorData background_color) {
  // Implement pencil pattern
}
}
</code></pre></li>
</ol>
	</div>

	<div class = "footer">
		<!-- You can change the copyright! -->
		<span class="copyright">&copy; 2016, CSCI 3081 Group-A01</span>
	</div>

</body>
</html>
